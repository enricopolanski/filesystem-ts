# FileSystem-ts

Experimental, **work-in-progress**, filesystem library.

Inspired by:

[System.Directory](https://hackage.haskell.org/package/directory-1.3.6.1/docs/System-Directory.html)

[std::fs](https://doc.rust-lang.org/std/fs/index.html)

## API

### Directory

- `listDirectory` 

```ts
const listDirectory: (s: string) => TaskEither<ListDirectoryError, Entity[]>
```

```ts
type ListDirectoryError = NoEntity | NotADirectory | UnknownError;
```

- `createTemporaryDirectory`

Creates a temporary directory inside the OS' default temporary directory. The `prefix` will determine the first part of the directory name, the rest being randomly generated by the OS.

```ts
const createTemporaryDirectory: (prefix: string ) => TaskEither<UnknownError, Directory>
```

- `getMetadata`

Returns metadata information about a file or a directory.

```ts
const getMetadata: (s: string) => TaskEither<MetadataError, Stats>
```

```ts
type ListDirectoryError = NoEntity | NotADirectory | UnknownError;
```

- `createDirectory`

Creates a new, empty directory at the provided path.

```ts
const createDirectory: (s: string) => TaskEither<CreateDirectoryError, Directory>
```

```ts
type CreateDirectoryError = UnknownError
```

- `removeDirectory`

Removes an existing directory. The operation may fail if OS requirements for directory deletion are unmet. E.g. the directory is not empty. See `removeDirectoryRecursive` for an `rm -rf`-like API.

```ts
const removeDirectory: (s: string) => TE.TaskEither<RemoveDirectoryError, void> 
```

```ts
type ListDirectoryError = NoEntity | NotADirectory | UnknownError;
```

##### WIP

- `createDirectoryWithParents`

Same as `createDirectory` but will also create the parents if missing.

```ts
const createDirectoryWithParents: (s: string) => TaskEither<CreateDirectoryError, Directory>
```

- `renameDirectory`

Changes the name of an existing directory from `old` to `new`.

```ts
const renameDirectory: (old: string, new: string) => TaskEither<RenameError, Directory>
```

